# フェーズ6: フォローアップ

## 目的
- 本番運用を安定させ、データ永続化と運用効率化を進める。
- UI/UX の小改善やテスト強化でリリース後の品質を向上させる。

## スコープ
- データ永続化: SQLite から Render Postgres への移行検討・実施。
- 運用改善: 監視/通知の定常運用、ロールバック手順の自動化度向上。
- QA/UX: 軽微なUI改善、追加シナリオのPlaywright/E2E整備。

## 完了基準 (Done)
1. 永続DB(例えば Render Postgres)への移行計画と実施、`DATABASE_URL` 切替が本番で完了。
2. 監視/通知が定常運用（アラートルール、当番、Runbook）として回っている。
3. Playwright 追加シナリオ（本番へのデプロイ前チェックに必要なコアフロー）が整備されている。
4. 小規模UX改善チケット（優先度P1まで）がクローズ。
5. ロールバック手順が自動化（Deploy Hook再実行 or 前タグ再デプロイをワンコマンド化）。

## WBS（ドラフト）
- データ永続化
  - Postgres インスタンス作成（Render）
  - Prisma マイグレーション生成/検証（dev→stg→prd）
  - `DATABASE_URL` 切替リハーサル（stg）
  - 本番切替とデータ移行（必要ならワンタイムスクリプト）
- 監視・運用
  - 監視ルール整備（Uptime、HTTP 5xx/latency、DB接続エラー）
  - 通知チャネル・当番表の明文化
  - ロールバック手順の自動化（スクリプト化）
- QA/UX 改善
  - Playwright 追加シナリオ（例: タグ編集、フィルタ複合、並び替え確定後の永続確認）
  - 軽微UI改善のバックログ消化
- ドキュメント/リリース
  - Phase6 Go/No-Go チェックリスト作成
  - リリースノート運用の継続

## リスクとメモ
- DB移行ではダウンタイム/データ整合性リスクがあるため、事前バックアップとロールバック手順を必須とする。
- Playwright を本番URLで常時回すかは要検討（コストと負荷を考慮）。

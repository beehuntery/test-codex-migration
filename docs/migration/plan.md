# 技術スタック移行計画 概要

## ゴール
- 既存の Express + プレーンフロントエンド構成を、Next.js 15 App Router と TypeScript を採用したモダンスタックへ移行する。
- デザインガイドライン（`docs/DESIGN_GUIDELINE.md`）をトークン化し、UI 実装の一貫性とアクセシビリティを高める。
- Render 等の PaaS 環境で継続運用できるホスティング／CI/CD パイプラインを整備する。

## 進行状況サマリ
| フェーズ | 目的 | ステータス | 備考 |
| --- | --- | --- | --- |
| フェーズ1 | 設計と準備 | ✅ 完了 (2025-10-21) | 現状調査とターゲット設計を文書化済み |
| フェーズ2 | バックエンド刷新 | 🚧 進行中 (2025-10-22) | Prisma + SQLite スキーマ適用、移行スクリプト、データストア抽象化まで完了 |
| フェーズ3 | フロントエンド再構築 | ⬜ 未着手 | Next.js App Router + Tailwind 4 |
| フェーズ4 | 開発体制整備 | ⬜ 未着手 | ESLint/Vitest/Playwright の統合 |
| フェーズ5 | 移行とリリース | ⬜ 未着手 | カナリアデプロイとモニタリング |
| フェーズ6 | フォローアップ | ⬜ 未着手 | デザイントークン運用と継続改善 |

## ドキュメント構成
- [フェーズ1: 設計と準備](./phase1.md)
- [フェーズ2: バックエンド刷新](./phase2.md)
- 今後のフェーズ（3〜6）の詳細は検討次第追加予定

## 次のアクション
- Prisma DataStore を本番運用レベルで実装し、部分更新と差分同期（`create/update/delete/reorder`）に最適化する。
- Prisma Client 生成フローを CI に組み込み、`npm run prisma:generate` 実行を自動化。型定義スタブの除去と検証を行う。
- JSON → Prisma 切替時のロールバック手順をドキュメント化し、既存 JSON ストレージの廃止計画を策定。
- `zod` 等による API レスポンスバリデーションとテスト（ユニット/E2E）を整備する。

# 回答形式
以下の項目を含める。
```md
## 現在のフェーズ
## 現在のマイルストーン
## 今回の作業内容
## 確認手順
## 次回の作業内容
```

# ドキュメント
- 索引: ./docs/index.md
- ドキュメント追加が必要なときは、`./docs/` 配下に適切なディレクトリを作成してください。

# ディレクトリ構成
- `./data/` : タスクとタグのJSONデータソース（`tasks.json`, `tags.json`）。
- `./public/` : クライアント向けの静的アセット（`index.html`, `app.js`, `styles.css`）。
- `./node_modules/` : NPM依存パッケージ（自動生成のため編集不可）。
- `./server.js` : バックエンドのエントリーポイント。
- `./package.json` / `./package-lock.json` : プロジェクト設定と依存関係定義。

# 開発ルール

## Git運用
機能追加や修正の際は、以下の通りGit操作してください。ただし、前回の修正が完了するまでは実施しなくてよいです。
1. 現在のブランチが main でない場合、main ブランチに切り替えて最新の変更をリモートリポジトリから取り込む。
2. main ブランチから新しいブランチを作成して実装に移る。

## テスト駆動開発方針
**目的**  
変更容易性と回帰防止を最小コストで担保する。TDDは「設計の進め方」として適用。

**適用範囲（優先度順）**  
1) ドメインロジック/変換/検証 2) 公開API/SDK 3) サービス境界（契約テスト）  
UI/探索的実装はスパイク可（後で要テスト化）。

**基本サイクル**  
Red → Green → Refactor（最小実装でGreen、設計はRefactorで整える）。

**テスト構成（目安）**  
- ユニット:統合:契約/E2E ≈ 70:20:10  
- “速いテストを多数、遅いテストは要点のみ”

**モック指針**  
外部境界（DB/HTTP/メッセージング）のみ。内部詳細への過度なモック禁止。

**不安定要素の扱い**  
時刻/乱数/並行は抽象化して差し替え可能に。プロパティベーステストは変換系で検討。

**レガシー対応**  
現状仕様は特性テストで固定 → 以降TDDで小刻みに改善。

**命名/書式**  
振る舞いベース命名＋AAA（Arrange-Act-Assert）。テストは実行可能な仕様として読む。

**CIゲート**  
- 全テスト緑＋フレーク0（連続2回）  
- カバレッジ閾値（例）行80%/分岐60%（数値より重要経路の網羅を優先）  
- テスト実行時間予算を超えたら分割/高速化。

**DoD（機能完了の定義）**  
主要ユースケースの上位テスト1本以上＋コアロジックのユニットTDD＋外部I/Oの契約テスト。

**計測/改善**  
欠陥率・変更当たりのテスト修正量・実行時間・フレーク率を定点観測し、四半期ごとに調整。
